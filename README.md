# cloudform-auto-pak
给云表单用的工作流脚本，现在主要针对design模块进行打包压缩，目前的策略是以页面为单位进行整体打包，后续准备引入自动提取公共依赖的功能

# 使用方法
脚本基于nodejs，首先需要安装依赖组件
````bash
$ npm install
````
如果安装失败，检查下是否有管理员权限，或者升级node和npm，根据我之前的经验，node和npm升级到最新版本不需要管理权限也能安装成功。

安装成功后需要配置conf.js中的root属性，配置为本地要编译的模块下的webapp文件夹的绝对路径

配置好后执行脚本
````bash
$ npm start
````

首次编译构成会比较慢，因为要压缩一些比较大的公共库，之后的编译过程会加快，没有修改的文件会走本地缓存

还可以使用下面的命令进入debug模式，查看各个文件的编译过程
````bash
$ npm run debug
````

debug模式下所有文件都不走缓存，所以比较慢，编译过程中会在命令行输出各个文件的编译流程信息，后续准备加入输出log文件的功能，因为命令行下的调试信息不好看嘛

另外，在debug模式下还会在当前文件夹下生成map.json文件，根据这个文件可以查看各个文件最终的编译状态和编译属性，以及打包信息，可以作为调试的依据，也可以给后端使用，做动态打包什么的
